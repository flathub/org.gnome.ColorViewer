{
  "app-id": "org.gnome.ColorViewer",
  "sdk": "org.gnome.Sdk",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.34",
  "command": "gcm-viewer",
  "finish-args": [
    "--share=ipc",
    "--filesystem=~/.local/share/icc:ro",
    "--talk-name=org.gtk.vfs",
    "--talk-name=org.gtk.vfs.*",
    "--socket=wayland",
    "--socket=fallback-x11",
    "--system-talk-name=org.freedesktop.ColorManager"
  ],
  "cleanup": [
     "*.la",
    "/include",
    "/lib/girepository-1.0",
    "/lib/pkgconfig",
    "/share/dbus-1",
    "/share/gir-1.0",
    "/share/man"
  ],
  "modules": [
    "shared-modules/gudev/gudev.json",
    "shared-modules/intltool/intltool-0.51.json",
    {
      "name": "libusb",
      "config-opts": [
        "--disable-build-docs",
        "--disable-static",
        "--enable-debug=no",
        "--with-pic"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/libusb/libusb/releases/download/v1.0.22/libusb-1.0.22.tar.bz2",
          "sha256": "75aeb9d59a4fdb800d329a545c2e6799f732362193b465ea198f2aa275518157"
        }
      ]
    },
    {
      "name": "gusb",
      "buildsystem": "meson",
      "config-opts": [
        "-Ddocs=false",
        "-Dvapi=false",
        "-Dtests=false"
      ],
      "cleanup": [
        "/bin/gusbcmd"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://people.freedesktop.org/~hughsient/releases/libgusb-0.3.0.tar.xz",
          "sha256": "d8e7950f99b6ae4c3e9b8c65f3692b9635289e6cff8de40c4af41b2e9b348edc"
        }
      ]
    },
    {
      "name": "colord",
      "buildsystem": "meson",
      "config-opts": [
        "-Dargyllcms_sensor=false",
        "-Dbash_completion=false",
        "-Ddaemon=false",
        "-Ddocs=false",
        "-Dinstalled_tests=false",
        "-Dman=false",
        "-Dprint_profiles=false",
        "-Dsystemd=false",
        "-Dtests=false",
        "-Dudev_rules=false",
        "-Dpnp_ids=/tmp",
        "-Dvapi=false"
      ],
      "cleanup": [
        "/bin",
        "/libexec",
        "/share/colord",
        "/share/glib-2.0",
        "/var"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://www.freedesktop.org/software/colord/releases/colord-1.4.4.tar.xz",
          "sha256": "9a0fe80160bf88efddb582a9fc0169f56065276dc3882c47dddb9eecd048c0a5"
        }
      ]
    },
    {
      "name": "colord-gtk",
      "buildsystem": "meson",
      "config-opts": [
        "-Ddocs=false",
        "-Dman=false",
        "-Dtests=false"
      ],
      "cleanup": [
        "/bin"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://www.freedesktop.org/software/colord/releases/colord-gtk-0.2.0.tar.xz",
          "sha256": "2a4cfae08bc69f000f40374934cd26f4ae86d286ce7de89f1622abc59644c717"
        }
      ]
    },
    {
      "name": "gnome-color-viewer",
      "buildsystem": "meson",
      "sources": [
        {
          "type": "archive",
          "url": "https://people.freedesktop.org/~hughsient/temp/gnome-color-viewer-3.31.1.tar.xz",
          "sha256": "910f892f68917a028cf9aa2fb23ebdc68897006ffdd8fd329a18f55f9ead2d51"
        },
        {
          "type": "patch",
          "path": "appdata_oars_screenshots.patch"
        }
      ]
    }
  ]
}
